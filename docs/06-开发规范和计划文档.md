# è¯•è½¦åé¦ˆè¯„ä»·ç³»ç»Ÿå¼€å‘è§„èŒƒå’Œè®¡åˆ’æ–‡æ¡£

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** 1.0  
**ç¼–å†™æ—¥æœŸï¼š** 2025å¹´7æœˆ23æ—¥  
**ç¼–å†™äººå‘˜ï¼š** é¡¹ç›®ç»ç†  
**å®¡æ ¸äººå‘˜ï¼š** æŠ€æœ¯æ€»ç›‘  

## 1. å¼•è¨€

### 1.1 ç¼–å†™ç›®çš„
æœ¬æ–‡æ¡£è§„å®šäº†è¯•è½¦åé¦ˆè¯„ä»·ç³»ç»Ÿçš„å¼€å‘è§„èŒƒã€ç¼–ç æ ‡å‡†ã€å·¥ä½œæµç¨‹å’Œé¡¹ç›®è®¡åˆ’ï¼Œä¸ºå¼€å‘å›¢é˜Ÿæä¾›ç»Ÿä¸€çš„å¼€å‘æŒ‡å¯¼ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œé¡¹ç›®è¿›åº¦ã€‚

### 1.2 é€‚ç”¨èŒƒå›´
æœ¬è§„èŒƒé€‚ç”¨äºå‚ä¸è¯•è½¦åé¦ˆè¯„ä»·ç³»ç»Ÿå¼€å‘çš„æ‰€æœ‰å›¢é˜Ÿæˆå‘˜ï¼ŒåŒ…æ‹¬ï¼š
- å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- åç«¯å¼€å‘å·¥ç¨‹å¸ˆ
- æ•°æ®åº“å·¥ç¨‹å¸ˆ
- æµ‹è¯•å·¥ç¨‹å¸ˆ
- è¿ç»´å·¥ç¨‹å¸ˆ
- é¡¹ç›®ç»ç†

### 1.3 æ–‡æ¡£ç»“æ„
æœ¬æ–‡æ¡£åŒ…å«ä»¥ä¸‹ä¸»è¦å†…å®¹ï¼š
- å¼€å‘è§„èŒƒæ ‡å‡†
- ä»£ç è´¨é‡æ§åˆ¶
- å·¥ä½œæµç¨‹è§„èŒƒ
- é¡¹ç›®è®¡åˆ’å®‰æ’
- å›¢é˜Ÿåä½œè§„èŒƒ

## 2. å¼€å‘ç¯å¢ƒè§„èŒƒ

### 2.1 å¼€å‘ç¯å¢ƒé…ç½®

#### 2.1.1 ç»Ÿä¸€å¼€å‘ç¯å¢ƒ

```bash
# Pythonç‰ˆæœ¬è¦æ±‚
Python 3.11+

# è™šæ‹Ÿç¯å¢ƒç®¡ç†
pip install virtualenv
virtualenv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate   # Windows

# å¿…éœ€è½¯ä»¶åŒ…
pip install -r requirements.txt
```

**requirements.txt**:
```txt
Flask==2.3.2
Flask-SQLAlchemy==3.0.5
Flask-Login==0.6.2
Werkzeug==2.3.6
python-docx==0.8.11
reportlab==4.0.4
pythonjsonlogger==2.0.7
prometheus-client==0.17.1
opentelemetry-api==1.19.0
opentelemetry-sdk==1.19.0
pytest==7.4.0
pytest-cov==4.1.0
black==23.7.0
flake8==6.0.0
isort==5.12.0
mypy==1.5.1
```

#### 2.1.2 IDEé…ç½®æ ‡å‡†

**VSCodeé…ç½® (.vscode/settings.json)**:
```json
{
  "python.defaultInterpreterPath": "./venv/bin/python",
  "python.linting.enabled": true,
  "python.linting.flake8Enabled": true,
  "python.linting.mypyEnabled": true,
  "python.formatting.provider": "black",
  "python.sortImports.args": ["--profile", "black"],
  "editor.formatOnSave": true,
  "editor.codeActionsOnSave": {
    "source.organizeImports": true
  },
  "python.testing.pytestEnabled": true,
  "python.testing.unittestEnabled": false,
  "files.exclude": {
    "**/__pycache__": true,
    "**/*.pyc": true,
    ".pytest_cache": true,
    ".coverage": true
  }
}
```

**PyCharmé…ç½®**:
- ä»£ç é£æ ¼ï¼šBlack
- å¯¼å…¥æ’åºï¼šisort
- ç±»å‹æ£€æŸ¥ï¼šMyPy
- æµ‹è¯•æ¡†æ¶ï¼špytest
- ä»£ç è¦†ç›–ç‡ï¼šCoverage.py

### 2.2 é¡¹ç›®ç›®å½•ç»“æ„è§„èŒƒ

```
dazhong/
â”œâ”€â”€ app.py                  # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ models.py              # æ•°æ®æ¨¡å‹å®šä¹‰
â”œâ”€â”€ config.py              # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt       # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md             # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ .gitignore            # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .flake8               # Flake8é…ç½®
â”œâ”€â”€ pyproject.toml        # Blackå’Œisorté…ç½®
â”œâ”€â”€ pytest.ini           # pytesté…ç½®
â”œâ”€â”€ Dockerfile            # Dockeré…ç½®
â”œâ”€â”€ docker-compose.yml    # Docker Composeé…ç½®
â”œâ”€â”€ data/                 # æ•°æ®æ–‡ä»¶
â”‚   â””â”€â”€ evaluation.db     # SQLiteæ•°æ®åº“
â”œâ”€â”€ static/               # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ custom-alert.js
â”‚   â”‚   â””â”€â”€ language.js
â”‚   â””â”€â”€ img/
â”‚       â””â”€â”€ bg-building.jpg
â”œâ”€â”€ templates/            # æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ categories.html
â”‚   â”œâ”€â”€ evaluation.html
â”‚   â”œâ”€â”€ pdf_viewer.html
â”‚   â””â”€â”€ admin/
â”‚       â”œâ”€â”€ login.html
â”‚       â”œâ”€â”€ dashboard.html
â”‚       â””â”€â”€ evaluations.html
â”œâ”€â”€ uploads/              # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ backups/              # å¤‡ä»½ç›®å½•
â”œâ”€â”€ logs/                 # æ—¥å¿—ç›®å½•
â”œâ”€â”€ tests/                # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_models.py
â”‚   â”œâ”€â”€ test_views.py
â”‚   â””â”€â”€ test_api.py
â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ security.py
â”‚   â””â”€â”€ helpers.py
â”œâ”€â”€ migrations/           # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ versions/
â”œâ”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ 01-éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦.md
â”‚   â”œâ”€â”€ 02-ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£.md
â”‚   â””â”€â”€ ...
â””â”€â”€ scripts/             # è„šæœ¬æ–‡ä»¶
    â”œâ”€â”€ deploy.sh
    â”œâ”€â”€ backup.sh
    â””â”€â”€ health_check.sh
```

## 3. ä»£ç è§„èŒƒæ ‡å‡†

### 3.1 Pythonä»£ç è§„èŒƒ

#### 3.1.1 PEP 8æ ‡å‡†

**åŸºæœ¬åŸåˆ™**:
- ä½¿ç”¨4ä¸ªç©ºæ ¼ç¼©è¿›ï¼Œä¸ä½¿ç”¨Tab
- æ¯è¡Œæœ€å¤§é•¿åº¦88å­—ç¬¦ï¼ˆBlacké»˜è®¤ï¼‰
- å‡½æ•°å’Œç±»ä¹‹é—´ç©º2è¡Œ
- æ–¹æ³•ä¹‹é—´ç©º1è¡Œ
- è¿ç®—ç¬¦å‰åç©ºæ ¼

**å‘½åè§„èŒƒ**:
```python
# ç±»åï¼šå¤§é©¼å³°å‘½å
class EvaluationSystem:
    pass

# å‡½æ•°åå’Œå˜é‡åï¼šå°å†™ä¸‹åˆ’çº¿
def create_evaluation(activity_id, vehicle_id):
    evaluation_data = {}
    return evaluation_data

# å¸¸é‡ï¼šå…¨å¤§å†™ä¸‹åˆ’çº¿
MAX_UPLOAD_SIZE = 50 * 1024 * 1024
DEFAULT_PAGE_SIZE = 20

# ç§æœ‰æ–¹æ³•ï¼šå•ä¸‹åˆ’çº¿å¼€å¤´
def _validate_input(self, data):
    pass

# ç‰¹æ®Šæ–¹æ³•ï¼šåŒä¸‹åˆ’çº¿
def __init__(self):
    pass
```

#### 3.1.2 ç±»å‹æ³¨è§£è§„èŒƒ

```python
from typing import Dict, List, Optional, Union
from datetime import datetime

def create_evaluation(
    activity_id: int,
    vehicle_id: int,
    evaluator_id: int,
    category_id: Optional[int],
    score: int,
    content: str
) -> Dict[str, Union[int, str, bool]]:
    """åˆ›å»ºè¯„ä»·è®°å½•
    
    Args:
        activity_id: æ´»åŠ¨ID
        vehicle_id: è½¦è¾†ID
        evaluator_id: è¯„ä»·äººID
        category_id: åˆ†ç±»IDï¼Œå¯é€‰
        score: è¯„åˆ†ï¼ˆ1-10ï¼‰
        content: è¯„ä»·å†…å®¹
    
    Returns:
        åŒ…å«è¯„ä»·IDå’ŒçŠ¶æ€çš„å­—å…¸
        
    Raises:
        ValueError: å½“è¯„åˆ†ä¸åœ¨æœ‰æ•ˆèŒƒå›´å†…æ—¶
        DatabaseError: å½“æ•°æ®åº“æ“ä½œå¤±è´¥æ—¶
    """
    if not (1 <= score <= 10):
        raise ValueError("è¯„åˆ†å¿…é¡»åœ¨1-10ä¹‹é—´")
    
    evaluation = Evaluation(
        activity_id=activity_id,
        vehicle_id=vehicle_id,
        evaluator_id=evaluator_id,
        category_id=category_id,
        score=score,
        content=content,
        created_at=datetime.utcnow()
    )
    
    try:
        db.session.add(evaluation)
        db.session.commit()
        
        return {
            'id': evaluation.id,
            'success': True,
            'message': 'è¯„ä»·åˆ›å»ºæˆåŠŸ'
        }
    except Exception as e:
        db.session.rollback()
        raise DatabaseError(f"æ•°æ®åº“æ“ä½œå¤±è´¥: {str(e)}")

class EvaluationService:
    """è¯„ä»·æœåŠ¡ç±»"""
    
    def __init__(self, db_session) -> None:
        self.db = db_session
    
    def get_evaluations_by_activity(
        self, 
        activity_id: int, 
        page: int = 1, 
        per_page: int = 20
    ) -> List[Dict[str, any]]:
        """è·å–æ´»åŠ¨çš„è¯„ä»·åˆ—è¡¨"""
        evaluations = Evaluation.query.filter_by(
            activity_id=activity_id
        ).paginate(
            page=page, 
            per_page=per_page
        )
        
        return [
            {
                'id': eval.id,
                'score': eval.score,
                'content': eval.content,
                'evaluator_name': eval.evaluator.name,
                'created_at': eval.created_at.isoformat()
            }
            for eval in evaluations.items
        ]
```

#### 3.1.3 æ–‡æ¡£å­—ç¬¦ä¸²è§„èŒƒ

```python
def generate_evaluation_report(
    activity_id: int, 
    export_format: str = 'docx'
) -> str:
    """ç”Ÿæˆè¯„ä»·æŠ¥å‘Š
    
    æ ¹æ®æŒ‡å®šæ´»åŠ¨IDç”Ÿæˆè¯„ä»·æŠ¥å‘Šï¼Œæ”¯æŒå¤šç§å¯¼å‡ºæ ¼å¼ã€‚
    
    Args:
        activity_id (int): æ´»åŠ¨IDï¼Œå¿…é¡»æ˜¯æœ‰æ•ˆçš„æ´»åŠ¨æ ‡è¯†ç¬¦
        export_format (str, optional): å¯¼å‡ºæ ¼å¼ï¼Œæ”¯æŒ'docx'å’Œ'pdf'ã€‚
            é»˜è®¤ä¸º'docx'ã€‚
    
    Returns:
        str: ç”Ÿæˆçš„æŠ¥å‘Šæ–‡ä»¶è·¯å¾„
    
    Raises:
        ValueError: å½“activity_idæ— æ•ˆæˆ–export_formatä¸æ”¯æŒæ—¶
        FileNotFoundError: å½“æ¨¡æ¿æ–‡ä»¶ä¸å­˜åœ¨æ—¶
        PermissionError: å½“æ²¡æœ‰æ–‡ä»¶å†™å…¥æƒé™æ—¶
    
    Example:
        >>> report_path = generate_evaluation_report(1, 'docx')
        >>> print(f"æŠ¥å‘Šå·²ç”Ÿæˆ: {report_path}")
        æŠ¥å‘Šå·²ç”Ÿæˆ: /tmp/evaluation_report_1.docx
    
    Note:
        - ç”Ÿæˆçš„æŠ¥å‘ŠåŒ…å«æ´»åŠ¨åŸºæœ¬ä¿¡æ¯ã€è¯„ä»·ç»Ÿè®¡å’Œè¯¦ç»†è¯„ä»·å†…å®¹
        - PDFæ ¼å¼éœ€è¦é¢å¤–å®‰è£…wkhtmltopdfä¾èµ–
        - æŠ¥å‘Šæ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨ä¸´æ—¶ç›®å½•ï¼Œå»ºè®®åŠæ—¶ä¸‹è½½
    
    Since:
        v1.0.0
    """
    # å®ç°ä»£ç ...
    pass

class DatabaseManager:
    """æ•°æ®åº“ç®¡ç†å™¨
    
    æä¾›æ•°æ®åº“è¿æ¥ã€äº‹åŠ¡ç®¡ç†å’ŒåŸºæœ¬CRUDæ“ä½œçš„å°è£…ã€‚
    
    Attributes:
        engine: SQLAlchemyæ•°æ®åº“å¼•æ“
        session: æ•°æ®åº“ä¼šè¯å·¥å‚
        
    Example:
        >>> db_manager = DatabaseManager('sqlite:///test.db')
        >>> with db_manager.session() as session:
        ...     user = session.query(User).first()
    """
    
    def __init__(self, database_url: str) -> None:
        """åˆå§‹åŒ–æ•°æ®åº“ç®¡ç†å™¨
        
        Args:
            database_url: æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
        """
        self.engine = create_engine(database_url)
        self.session = sessionmaker(bind=self.engine)
```

### 3.2 JavaScriptä»£ç è§„èŒƒ

#### 3.2.1 ES6+æ ‡å‡†

```javascript
// ä½¿ç”¨constå’Œletï¼Œé¿å…var
const API_BASE_URL = '/api';
let currentPage = 1;

// ç®­å¤´å‡½æ•°ä¼˜å…ˆ
const calculateScore = (scores) => {
    return scores.reduce((sum, score) => sum + score, 0) / scores.length;
};

// æ¨¡æ¿å­—ç¬¦ä¸²
const buildApiUrl = (endpoint, params = {}) => {
    const queryString = Object.keys(params)
        .map(key => `${key}=${encodeURIComponent(params[key])}`)
        .join('&');
    return `${API_BASE_URL}/${endpoint}${queryString ? '?' + queryString : ''}`;
};

// è§£æ„èµ‹å€¼
const { activity_id, vehicle_id, score } = evaluationData;

// å¼‚æ­¥æ“ä½œä½¿ç”¨async/await
async function saveEvaluation(evaluationData) {
    try {
        const response = await fetch('/api/save_evaluation', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(evaluationData)
        });
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        return result;
    } catch (error) {
        console.error('ä¿å­˜è¯„ä»·å¤±è´¥:', error);
        throw error;
    }
}

// ç±»å®šä¹‰
class EvaluationManager {
    constructor(containerId) {
        this.container = document.getElementById(containerId);
        this.currentEvaluation = null;
        this.init();
    }
    
    init() {
        this.bindEvents();
        this.loadData();
    }
    
    bindEvents() {
        // äº‹ä»¶ç»‘å®š
        this.container.addEventListener('click', this.handleClick.bind(this));
    }
    
    async loadData() {
        try {
            const data = await this.fetchEvaluations();
            this.render(data);
        } catch (error) {
            this.showError('æ•°æ®åŠ è½½å¤±è´¥');
        }
    }
    
    async fetchEvaluations() {
        const url = buildApiUrl('evaluations', { 
            activity_id: this.activityId 
        });
        const response = await fetch(url);
        return response.json();
    }
    
    render(data) {
        // æ¸²æŸ“é€»è¾‘
        const html = data.map(item => `
            <div class="evaluation-item" data-id="${item.id}">
                <div class="score">${item.score}</div>
                <div class="content">${item.content}</div>
            </div>
        `).join('');
        
        this.container.innerHTML = html;
    }
    
    handleClick(event) {
        const evaluationItem = event.target.closest('.evaluation-item');
        if (evaluationItem) {
            const evaluationId = evaluationItem.dataset.id;
            this.selectEvaluation(evaluationId);
        }
    }
}
```

#### 3.2.2 æ³¨é‡Šå’Œæ–‡æ¡£è§„èŒƒ

```javascript
/**
 * è¯„ä»·ç®¡ç†å™¨
 * è´Ÿè´£è¯„ä»·æ•°æ®çš„åŠ è½½ã€æ˜¾ç¤ºå’Œäº¤äº’å¤„ç†
 * 
 * @class EvaluationManager
 * @since 1.0.0
 */
class EvaluationManager {
    /**
     * æ„é€ å‡½æ•°
     * 
     * @param {string} containerId - å®¹å™¨å…ƒç´ ID
     * @param {Object} options - é…ç½®é€‰é¡¹
     * @param {number} options.pageSize - æ¯é¡µæ˜¾ç¤ºæ•°é‡ï¼Œé»˜è®¤20
     * @param {boolean} options.autoLoad - æ˜¯å¦è‡ªåŠ¨åŠ è½½æ•°æ®ï¼Œé»˜è®¤true
     */
    constructor(containerId, options = {}) {
        this.container = document.getElementById(containerId);
        this.options = {
            pageSize: 20,
            autoLoad: true,
            ...options
        };
    }
    
    /**
     * ä¿å­˜è¯„ä»·æ•°æ®
     * 
     * @param {Object} evaluationData - è¯„ä»·æ•°æ®
     * @param {number} evaluationData.activity_id - æ´»åŠ¨ID
     * @param {number} evaluationData.vehicle_id - è½¦è¾†ID
     * @param {number} evaluationData.score - è¯„åˆ†(1-10)
     * @param {string} evaluationData.content - è¯„ä»·å†…å®¹
     * @returns {Promise<Object>} ä¿å­˜ç»“æœ
     * @throws {Error} å½“æ•°æ®éªŒè¯å¤±è´¥æˆ–ç½‘ç»œé”™è¯¯æ—¶
     * 
     * @example
     * const result = await manager.saveEvaluation({
     *   activity_id: 1,
     *   vehicle_id: 1,
     *   score: 8,
     *   content: 'æ•´ä½“è¡¨ç°è‰¯å¥½'
     * });
     */
    async saveEvaluation(evaluationData) {
        // æ•°æ®éªŒè¯
        this._validateEvaluationData(evaluationData);
        
        try {
            const response = await fetch('/api/save_evaluation', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(evaluationData)
            });
            
            if (!response.ok) {
                throw new Error(`ä¿å­˜å¤±è´¥: ${response.status}`);
            }
            
            return await response.json();
        } catch (error) {
            console.error('ä¿å­˜è¯„ä»·æ—¶å‘ç”Ÿé”™è¯¯:', error);
            throw error;
        }
    }
    
    /**
     * éªŒè¯è¯„ä»·æ•°æ®
     * 
     * @private
     * @param {Object} data - å¾…éªŒè¯çš„æ•°æ®
     * @throws {Error} å½“æ•°æ®æ ¼å¼ä¸æ­£ç¡®æ—¶
     */
    _validateEvaluationData(data) {
        const requiredFields = ['activity_id', 'vehicle_id', 'score'];
        
        for (const field of requiredFields) {
            if (!(field in data)) {
                throw new Error(`ç¼ºå°‘å¿…éœ€å­—æ®µ: ${field}`);
            }
        }
        
        if (data.score < 1 || data.score > 10) {
            throw new Error('è¯„åˆ†å¿…é¡»åœ¨1-10ä¹‹é—´');
        }
    }
}

/**
 * æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´
 * 
 * @param {Date|string} datetime - æ—¥æœŸæ—¶é—´å¯¹è±¡æˆ–ISOå­—ç¬¦ä¸²
 * @param {string} format - æ ¼å¼åŒ–æ¨¡å¼ï¼Œé»˜è®¤'YYYY-MM-DD HH:mm:ss'
 * @returns {string} æ ¼å¼åŒ–åçš„æ—¥æœŸå­—ç¬¦ä¸²
 * 
 * @example
 * formatDateTime(new Date()) // '2025-07-23 10:30:00'
 * formatDateTime('2025-07-23T10:30:00Z', 'MM/DD/YYYY') // '07/23/2025'
 */
function formatDateTime(datetime, format = 'YYYY-MM-DD HH:mm:ss') {
    const date = datetime instanceof Date ? datetime : new Date(datetime);
    
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    const hours = String(date.getHours()).padStart(2, '0');
    const minutes = String(date.getMinutes()).padStart(2, '0');
    const seconds = String(date.getSeconds()).padStart(2, '0');
    
    return format
        .replace('YYYY', year)
        .replace('MM', month)
        .replace('DD', day)
        .replace('HH', hours)
        .replace('mm', minutes)
        .replace('ss', seconds);
}
```

### 3.3 CSSä»£ç è§„èŒƒ

#### 3.3.1 BEMå‘½åè§„èŒƒ

```css
/* Blockï¼ˆå—ï¼‰ */
.evaluation-card {
    padding: 20px;
    margin-bottom: 16px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
}

/* Elementï¼ˆå…ƒç´ ï¼‰ */
.evaluation-card__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.evaluation-card__title {
    font-size: 18px;
    font-weight: 600;
    color: white;
}

.evaluation-card__score {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-weight: bold;
    color: white;
}

.evaluation-card__content {
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    font-size: 14px;
}

.evaluation-card__footer {
    margin-top: 16px;
    padding-top: 12px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
}

/* Modifierï¼ˆä¿®é¥°ç¬¦ï¼‰ */
.evaluation-card--high-score .evaluation-card__score {
    background-color: #4CAF50;
}

.evaluation-card--medium-score .evaluation-card__score {
    background-color: #FF9800;
}

.evaluation-card--low-score .evaluation-card__score {
    background-color: #F44336;
}

.evaluation-card--featured {
    border: 2px solid #007bff;
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
}

.evaluation-card--compact {
    padding: 12px;
}

.evaluation-card--compact .evaluation-card__content {
    font-size: 13px;
}
```

#### 3.3.2 CSSå˜é‡å’Œä¸»é¢˜

```css
:root {
    /* é¢œè‰²ç³»ç»Ÿ */
    --color-primary: #007bff;
    --color-primary-dark: #0056b3;
    --color-success: #28a745;
    --color-warning: #ffc107;
    --color-danger: #dc3545;
    --color-info: #17a2b8;
    
    /* æ–‡å­—é¢œè‰² */
    --text-color-primary: #333333;
    --text-color-secondary: #666666;
    --text-color-light: rgba(255, 255, 255, 0.9);
    --text-color-muted: rgba(255, 255, 255, 0.7);
    
    /* èƒŒæ™¯é¢œè‰² */
    --bg-color-primary: rgba(255, 255, 255, 0.1);
    --bg-color-secondary: rgba(255, 255, 255, 0.05);
    --bg-color-overlay: rgba(0, 0, 0, 0.4);
    
    /* é—´è·ç³»ç»Ÿ */
    --spacing-xs: 4px;
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    --spacing-xxl: 48px;
    
    /* å­—ä½“ç³»ç»Ÿ */
    --font-size-xs: 12px;
    --font-size-sm: 14px;
    --font-size-md: 16px;
    --font-size-lg: 18px;
    --font-size-xl: 24px;
    --font-size-xxl: 32px;
    
    /* åœ†è§’ */
    --border-radius-sm: 4px;
    --border-radius-md: 8px;
    --border-radius-lg: 12px;
    --border-radius-circle: 50%;
    
    /* é˜´å½± */
    --box-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
    --box-shadow-md: 0 4px 8px rgba(0, 0, 0, 0.15);
    --box-shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.2);
    
    /* è¿‡æ¸¡åŠ¨ç”» */
    --transition-fast: 0.15s ease;
    --transition-normal: 0.3s ease;
    --transition-slow: 0.5s ease;
}

/* æ·±è‰²ä¸»é¢˜ */
[data-theme="dark"] {
    --text-color-primary: #ffffff;
    --text-color-secondary: #cccccc;
    --bg-color-primary: rgba(0, 0, 0, 0.8);
    --bg-color-secondary: rgba(0, 0, 0, 0.6);
}

/* å·¥å…·ç±» */
.text-primary { color: var(--color-primary); }
.text-success { color: var(--color-success); }
.text-warning { color: var(--color-warning); }
.text-danger { color: var(--color-danger); }

.bg-primary { background-color: var(--color-primary); }
.bg-glass { background: var(--bg-color-primary); }

.p-xs { padding: var(--spacing-xs); }
.p-sm { padding: var(--spacing-sm); }
.p-md { padding: var(--spacing-md); }
.p-lg { padding: var(--spacing-lg); }

.m-xs { margin: var(--spacing-xs); }
.m-sm { margin: var(--spacing-sm); }
.m-md { margin: var(--spacing-md); }
.m-lg { margin: var(--spacing-lg); }

.rounded-sm { border-radius: var(--border-radius-sm); }
.rounded-md { border-radius: var(--border-radius-md); }
.rounded-lg { border-radius: var(--border-radius-lg); }

.shadow-sm { box-shadow: var(--box-shadow-sm); }
.shadow-md { box-shadow: var(--box-shadow-md); }
.shadow-lg { box-shadow: var(--box-shadow-lg); }

.transition-fast { transition: all var(--transition-fast); }
.transition-normal { transition: all var(--transition-normal); }
```

## 4. ä»£ç è´¨é‡æ§åˆ¶

### 4.1 é™æ€ä»£ç åˆ†æ

#### 4.1.1 é…ç½®æ–‡ä»¶

**.flake8**:
```ini
[flake8]
max-line-length = 88
extend-ignore = 
    E203,  # whitespace before ':'
    E501,  # line too long
    W503,  # line break occurred before a binary operator
exclude = 
    .git,
    __pycache__,
    venv,
    migrations,
    .pytest_cache
max-complexity = 10
```

**pyproject.toml**:
```toml
[tool.black]
line-length = 88
target-version = ['py311']
include = '\.pyi?$'
extend-exclude = '''
/(
  # directories
  \.eggs
  | \.git
  | \.hg
  | \.mypy_cache
  | \.pytest_cache
  | \.venv
  | venv
  | _build
  | buck-out
  | build
  | dist
)/
'''

[tool.isort]
profile = "black"
multi_line_output = 3
line_length = 88
known_first_party = ["evaluation_system"]
known_third_party = ["flask", "sqlalchemy", "pytest"]

[tool.mypy]
python_version = "3.11"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true
no_implicit_optional = true
warn_redundant_casts = true
warn_unused_ignores = true
warn_no_return = true
warn_unreachable = true
strict_equality = true

[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = ["test_*.py", "*_test.py"]
python_classes = ["Test*"]
python_functions = ["test_*"]
addopts = [
    "--strict-markers",
    "--disable-warnings",
    "--cov=.",
    "--cov-report=html",
    "--cov-report=term-missing",
    "--cov-fail-under=80"
]
markers = [
    "slow: marks tests as slow",
    "integration: marks tests as integration tests",
    "unit: marks tests as unit tests"
]
```

#### 4.1.2 ä»£ç è´¨é‡æ£€æŸ¥è„šæœ¬

```bash
#!/bin/bash
# quality_check.sh - ä»£ç è´¨é‡æ£€æŸ¥è„šæœ¬

set -e

echo "ğŸ” å¼€å§‹ä»£ç è´¨é‡æ£€æŸ¥..."

# 1. ä»£ç æ ¼å¼åŒ–æ£€æŸ¥
echo "ğŸ“ æ£€æŸ¥ä»£ç æ ¼å¼ (Black)..."
black --check --diff .

# 2. å¯¼å…¥æ’åºæ£€æŸ¥
echo "ğŸ“¦ æ£€æŸ¥å¯¼å…¥æ’åº (isort)..."
isort --check-only --diff .

# 3. ä»£ç é£æ ¼æ£€æŸ¥
echo "ğŸ¨ æ£€æŸ¥ä»£ç é£æ ¼ (flake8)..."
flake8 .

# 4. ç±»å‹æ£€æŸ¥
echo "ğŸ”§ æ£€æŸ¥ç±»å‹æ³¨è§£ (mypy)..."
mypy .

# 5. å®‰å…¨æ£€æŸ¥
echo "ğŸ”’ å®‰å…¨æ£€æŸ¥ (bandit)..."
bandit -r . -x tests/

# 6. å¤æ‚åº¦æ£€æŸ¥
echo "ğŸ“Š å¤æ‚åº¦æ£€æŸ¥ (radon)..."
radon cc . --min B

# 7. è¿è¡Œæµ‹è¯•
echo "ğŸ§ª è¿è¡Œæµ‹è¯•..."
pytest --cov=. --cov-report=term-missing

echo "âœ… ä»£ç è´¨é‡æ£€æŸ¥å®Œæˆï¼"
```

### 4.2 ä»£ç å®¡æŸ¥è§„èŒƒ

#### 4.2.1 å®¡æŸ¥æ¸…å•

**åŠŸèƒ½æ€§å®¡æŸ¥**:
- [ ] ä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
- [ ] æ˜¯å¦å¤„ç†äº†è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸æƒ…å†µ
- [ ] æ˜¯å¦æœ‰æ˜æ˜¾çš„é€»è¾‘é”™è¯¯
- [ ] æ˜¯å¦ç¬¦åˆéœ€æ±‚è§„æ ¼è¯´æ˜

**ä»£ç è´¨é‡å®¡æŸ¥**:
- [ ] ä»£ç æ˜¯å¦éµå¾ªç¼–ç è§„èŒƒ
- [ ] å˜é‡å’Œå‡½æ•°å‘½åæ˜¯å¦æ¸…æ™°
- [ ] æ˜¯å¦æœ‰é‡å¤ä»£ç éœ€è¦é‡æ„
- [ ] ä»£ç å¤æ‚åº¦æ˜¯å¦åˆç†

**æ€§èƒ½å®¡æŸ¥**:
- [ ] æ˜¯å¦å­˜åœ¨æ€§èƒ½ç“¶é¢ˆ
- [ ] æ•°æ®åº“æŸ¥è¯¢æ˜¯å¦ä¼˜åŒ–
- [ ] æ˜¯å¦æœ‰å†…å­˜æ³„æ¼é£é™©
- [ ] ç®—æ³•æ•ˆç‡æ˜¯å¦åˆç†

**å®‰å…¨æ€§å®¡æŸ¥**:
- [ ] æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥é£é™©
- [ ] ç”¨æˆ·è¾“å…¥æ˜¯å¦ç»è¿‡éªŒè¯
- [ ] æ•æ„Ÿä¿¡æ¯æ˜¯å¦å¾—åˆ°ä¿æŠ¤
- [ ] æ˜¯å¦éµå¾ªå®‰å…¨æœ€ä½³å®è·µ

**å¯ç»´æŠ¤æ€§å®¡æŸ¥**:
- [ ] ä»£ç ç»“æ„æ˜¯å¦æ¸…æ™°
- [ ] æ³¨é‡Šå’Œæ–‡æ¡£æ˜¯å¦å……åˆ†
- [ ] æ˜¯å¦æ˜“äºæµ‹è¯•å’Œè°ƒè¯•
- [ ] æ˜¯å¦ä¾¿äºåç»­æ‰©å±•

#### 4.2.2 å®¡æŸ¥æµç¨‹

```mermaid
graph LR
    A[å¼€å‘å®Œæˆ] --> B[è‡ªæµ‹è¯•]
    B --> C[æäº¤PR]
    C --> D[è‡ªåŠ¨åŒ–æ£€æŸ¥]
    D --> E{æ£€æŸ¥é€šè¿‡?}
    E -->|å¦| F[ä¿®å¤é—®é¢˜]
    F --> B
    E -->|æ˜¯| G[æŒ‡æ´¾å®¡æŸ¥è€…]
    G --> H[ä»£ç å®¡æŸ¥]
    H --> I{å®¡æŸ¥é€šè¿‡?}
    I -->|å¦| J[ä¿®æ”¹ä»£ç ]
    J --> H
    I -->|æ˜¯| K[åˆå¹¶ä»£ç ]
    K --> L[éƒ¨ç½²æµ‹è¯•]
```

### 4.3 æµ‹è¯•è¦†ç›–ç‡è¦æ±‚

#### 4.3.1 è¦†ç›–ç‡æ ‡å‡†

- **å•å…ƒæµ‹è¯•è¦†ç›–ç‡**: â‰¥ 80%
- **é›†æˆæµ‹è¯•è¦†ç›–ç‡**: â‰¥ 60%
- **æ ¸å¿ƒä¸šåŠ¡é€»è¾‘**: â‰¥ 90%
- **APIæ¥å£**: 100%

#### 4.3.2 è¦†ç›–ç‡æŠ¥å‘Š

```bash
# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=. --cov-report=html --cov-report=term-missing

# æŸ¥çœ‹HTMLæŠ¥å‘Š
open htmlcov/index.html

# æ’é™¤ä¸éœ€è¦æµ‹è¯•çš„æ–‡ä»¶
pytest --cov=. --cov-omit="*/venv/*,*/migrations/*,*/tests/*" --cov-report=html
```

## 5. Gitå·¥ä½œæµè§„èŒƒ

### 5.1 åˆ†æ”¯ç­–ç•¥

#### 5.1.1 Git Flowåˆ†æ”¯æ¨¡å‹

```mermaid
graph LR
    A[master] --> B[develop]
    B --> C[feature/user-auth]
    B --> D[feature/evaluation-api]
    B --> E[release/v1.0]
    E --> F[hotfix/critical-bug]
    F --> A
    E --> A
    C --> B
    D --> B
```

**åˆ†æ”¯ç±»å‹**:
- **master**: ç”Ÿäº§ç¯å¢ƒåˆ†æ”¯ï¼Œåªæ¥å—ç»è¿‡æµ‹è¯•çš„ç¨³å®šä»£ç 
- **develop**: å¼€å‘ä¸»åˆ†æ”¯ï¼Œç”¨äºé›†æˆå„ä¸ªç‰¹æ€§åˆ†æ”¯
- **feature/xxx**: åŠŸèƒ½å¼€å‘åˆ†æ”¯ï¼Œä»developåˆ†å‡ºï¼Œå®Œæˆååˆå¹¶å›develop
- **release/vx.x**: å‘å¸ƒå‡†å¤‡åˆ†æ”¯ï¼Œç”¨äºå‘å¸ƒå‰çš„æœ€åæµ‹è¯•å’Œä¿®å¤
- **hotfix/xxx**: ç´§æ€¥ä¿®å¤åˆ†æ”¯ï¼Œä»masteråˆ†å‡ºï¼Œä¿®å¤ååˆå¹¶åˆ°masterå’Œdevelop

#### 5.1.2 åˆ†æ”¯å‘½åè§„èŒƒ

```bash
# åŠŸèƒ½åˆ†æ”¯
feature/user-authentication
feature/evaluation-report
feature/api-optimization

# ä¿®å¤åˆ†æ”¯
bugfix/login-error
bugfix/database-connection

# å‘å¸ƒåˆ†æ”¯
release/v1.0.0
release/v1.1.0

# çƒ­ä¿®å¤åˆ†æ”¯
hotfix/security-patch
hotfix/critical-bug-fix

# å®éªŒåˆ†æ”¯
experiment/new-ui-design
experiment/performance-test
```

### 5.2 æäº¤ä¿¡æ¯è§„èŒƒ

#### 5.2.1 Conventional Commitsæ ‡å‡†

```bash
# æ ¼å¼ï¼š<type>(<scope>): <description>

# åŠŸèƒ½æ·»åŠ 
feat(auth): add user login functionality
feat(api): implement evaluation creation endpoint
feat(ui): add evaluation score visualization

# é—®é¢˜ä¿®å¤
fix(database): resolve connection timeout issue
fix(api): handle validation errors properly
fix(ui): correct responsive layout on mobile

# ä»£ç é‡æ„
refactor(models): optimize database query performance
refactor(utils): simplify date formatting functions

# æ–‡æ¡£æ›´æ–°
docs(readme): update installation instructions
docs(api): add endpoint documentation

# æµ‹è¯•ç›¸å…³
test(auth): add unit tests for login service
test(api): add integration tests for evaluation endpoints

# æ„å»ºå’Œå·¥å…·
build(deps): update flask to version 2.3.2
ci(github): add automated testing workflow

# æ€§èƒ½ä¼˜åŒ–
perf(database): optimize evaluation query with indexes
perf(api): reduce response time for large datasets

# æ ·å¼è°ƒæ•´
style(css): improve button hover effects
style(lint): fix code formatting issues
```

#### 5.2.2 æäº¤ä¿¡æ¯æ¨¡æ¿

```bash
# .gitmessage æ¨¡æ¿æ–‡ä»¶
# <type>(<scope>): <subject>
#
# <body>
#
# <footer>

# ç±»å‹è¯´æ˜ï¼š
# feat: æ–°åŠŸèƒ½
# fix: ä¿®å¤é—®é¢˜
# docs: æ–‡æ¡£ä¿®æ”¹
# style: ä»£ç æ ¼å¼ä¿®æ”¹
# refactor: ä»£ç é‡æ„
# test: æµ‹è¯•ç›¸å…³
# build: æ„å»ºç›¸å…³
# ci: æŒç»­é›†æˆ
# perf: æ€§èƒ½ä¼˜åŒ–
# revert: æ’¤é”€ä¿®æ”¹

# ç¤ºä¾‹ï¼š
# feat(auth): add JWT token authentication
# 
# - Implement JWT token generation and validation
# - Add middleware for protected routes
# - Update user model to support token refresh
# 
# Closes #123
```

### 5.3 Pull Requestè§„èŒƒ

#### 5.3.1 PRæ¨¡æ¿

```markdown
## å˜æ›´è¯´æ˜
<!-- ç®€è¦æè¿°è¿™ä¸ªPRçš„ç›®çš„å’Œæ‰€åšçš„ä¸»è¦å˜æ›´ -->

## å˜æ›´ç±»å‹
- [ ] æ–°åŠŸèƒ½ (feat)
- [ ] é—®é¢˜ä¿®å¤ (fix)
- [ ] ä»£ç é‡æ„ (refactor)
- [ ] æ–‡æ¡£æ›´æ–° (docs)
- [ ] æ ·å¼è°ƒæ•´ (style)
- [ ] æµ‹è¯•æ·»åŠ  (test)
- [ ] æ€§èƒ½ä¼˜åŒ– (perf)

## è¯¦ç»†å˜æ›´
<!-- è¯¦ç»†æè¿°æ‰€åšçš„å˜æ›´ï¼ŒåŒ…æ‹¬æ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤çš„åŠŸèƒ½ -->

### æ–°å¢åŠŸèƒ½
- 

### ä¿®æ”¹åŠŸèƒ½
- 

### åˆ é™¤åŠŸèƒ½
- 

## æµ‹è¯•æƒ…å†µ
- [ ] å·²æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] å·²æ·»åŠ é›†æˆæµ‹è¯•
- [ ] æ‰‹åŠ¨æµ‹è¯•é€šè¿‡
- [ ] æµ‹è¯•è¦†ç›–ç‡æ»¡è¶³è¦æ±‚

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç éµå¾ªé¡¹ç›®ç¼–ç è§„èŒƒ
- [ ] å·²æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- [ ] æ²¡æœ‰é—ç•™çš„console.logæˆ–è°ƒè¯•ä»£ç 
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] æ€§èƒ½å½±å“å·²è¯„ä¼°
- [ ] å®‰å…¨å½±å“å·²è¯„ä¼°

## ç›¸å…³Issue
<!-- å…³è”çš„Issueç¼–å·ï¼Œä½¿ç”¨ #123 æ ¼å¼ -->
Closes #

## æˆªå›¾
<!-- å¦‚æœæœ‰UIå˜æ›´ï¼Œè¯·æä¾›å‰åå¯¹æ¯”æˆªå›¾ -->

## å…¶ä»–è¯´æ˜
<!-- ä»»ä½•å…¶ä»–éœ€è¦revieweræ³¨æ„çš„äº‹é¡¹ -->
```

#### 5.3.2 PRå®¡æŸ¥æµç¨‹

```bash
# 1. åˆ›å»ºPRåè‡ªåŠ¨è¿è¡Œçš„æ£€æŸ¥
- ä»£ç æ ¼å¼æ£€æŸ¥ (Black, isort)
- ä»£ç è´¨é‡æ£€æŸ¥ (flake8, mypy)
- å®‰å…¨æ£€æŸ¥ (bandit)
- æµ‹è¯•è¿è¡Œ (pytest)
- è¦†ç›–ç‡æ£€æŸ¥

# 2. æ‰‹åŠ¨å®¡æŸ¥è¦æ±‚
- è‡³å°‘1ä¸ªå®¡æŸ¥è€…æ‰¹å‡†
- æ‰€æœ‰è‡ªåŠ¨æ£€æŸ¥é€šè¿‡
- æ²¡æœ‰æœªè§£å†³çš„å¯¹è¯
- åˆ†æ”¯å·²æ›´æ–°åˆ°æœ€æ–°

# 3. åˆå¹¶ç­–ç•¥
- å°åŠŸèƒ½ï¼šSquash and merge
- å¤§åŠŸèƒ½ï¼šCreate a merge commit
- çƒ­ä¿®å¤ï¼šRebase and merge
```

## 6. æµ‹è¯•ç­–ç•¥å’Œè§„èŒƒ

### 6.1 æµ‹è¯•é‡‘å­—å¡”

```mermaid
graph TB
    subgraph "æµ‹è¯•é‡‘å­—å¡”"
        A[UIæµ‹è¯• - 10%]
        B[é›†æˆæµ‹è¯• - 30%]
        C[å•å…ƒæµ‹è¯• - 60%]
    end
    
    C --> B
    B --> A
```

### 6.2 å•å…ƒæµ‹è¯•è§„èŒƒ

#### 6.2.1 æµ‹è¯•æ–‡ä»¶ç»“æ„

```python
# tests/test_models.py
import pytest
from datetime import datetime
from evaluation_system.models import User, Evaluation, Activity
from evaluation_system import db

class TestUser:
    """ç”¨æˆ·æ¨¡å‹æµ‹è¯•ç±»"""
    
    def test_create_user(self):
        """æµ‹è¯•ç”¨æˆ·åˆ›å»º"""
        user = User(username='test_user', password_hash='hashed_password')
        assert user.username == 'test_user'
        assert user.password_hash == 'hashed_password'
        assert user.created_at is not None
    
    def test_user_password_hashing(self):
        """æµ‹è¯•å¯†ç å“ˆå¸Œ"""
        user = User(username='test_user')
        user.set_password('password123')
        
        assert user.password_hash != 'password123'
        assert user.check_password('password123') is True
        assert user.check_password('wrong_password') is False
    
    @pytest.mark.parametrize("username,expected", [
        ("valid_user", True),
        ("", False),
        ("a" * 81, False),  # è¶…è¿‡80å­—ç¬¦
    ])
    def test_username_validation(self, username, expected):
        """æµ‹è¯•ç”¨æˆ·åéªŒè¯"""
        user = User(username=username)
        assert user.is_valid_username() == expected

class TestEvaluation:
    """è¯„ä»·æ¨¡å‹æµ‹è¯•ç±»"""
    
    @pytest.fixture
    def sample_evaluation(self):
        """åˆ›å»ºç¤ºä¾‹è¯„ä»·æ•°æ®"""
        return Evaluation(
            activity_id=1,
            vehicle_id=1,
            evaluator_id=1,
            category_id=1,
            score=8,
            content="æµ‹è¯•è¯„ä»·å†…å®¹"
        )
    
    def test_evaluation_creation(self, sample_evaluation):
        """æµ‹è¯•è¯„ä»·åˆ›å»º"""
        assert sample_evaluation.score == 8
        assert sample_evaluation.content == "æµ‹è¯•è¯„ä»·å†…å®¹"
        assert sample_evaluation.created_at is not None
    
    def test_score_validation(self):
        """æµ‹è¯•è¯„åˆ†éªŒè¯"""
        # æœ‰æ•ˆè¯„åˆ†
        evaluation = Evaluation(score=5)
        assert evaluation.is_valid_score() is True
        
        # æ— æ•ˆè¯„åˆ†
        invalid_scores = [0, 11, -1]
        for score in invalid_scores:
            evaluation = Evaluation(score=score)
            assert evaluation.is_valid_score() is False
    
    def test_evaluation_to_dict(self, sample_evaluation):
        """æµ‹è¯•è¯„ä»·è½¬æ¢ä¸ºå­—å…¸"""
        data = sample_evaluation.to_dict()
        
        assert data['score'] == 8
        assert data['content'] == "æµ‹è¯•è¯„ä»·å†…å®¹"
        assert 'created_at' in data
        assert isinstance(data['created_at'], str)
```

#### 6.2.2 Mockå’Œæµ‹è¯•æ›¿èº«

```python
# tests/test_services.py
import pytest
from unittest.mock import Mock, patch, MagicMock
from evaluation_system.services import EvaluationService
from evaluation_system.models import Evaluation

class TestEvaluationService:
    """è¯„ä»·æœåŠ¡æµ‹è¯•ç±»"""
    
    @pytest.fixture
    def mock_db_session(self):
        """Mockæ•°æ®åº“ä¼šè¯"""
        mock_session = Mock()
        return mock_session
    
    @pytest.fixture
    def evaluation_service(self, mock_db_session):
        """åˆ›å»ºè¯„ä»·æœåŠ¡å®ä¾‹"""
        return EvaluationService(mock_db_session)
    
    def test_create_evaluation_success(self, evaluation_service, mock_db_session):
        """æµ‹è¯•æˆåŠŸåˆ›å»ºè¯„ä»·"""
        # å‡†å¤‡æµ‹è¯•æ•°æ®
        evaluation_data = {
            'activity_id': 1,
            'vehicle_id': 1,
            'evaluator_id': 1,
            'score': 8,
            'content': 'æµ‹è¯•å†…å®¹'
        }
        
        # Mockæ•°æ®åº“æ“ä½œ
        mock_evaluation = Mock(spec=Evaluation)
        mock_evaluation.id = 123
        mock_db_session.add.return_value = None
        mock_db_session.commit.return_value = None
        
        with patch('evaluation_system.models.Evaluation') as mock_evaluation_class:
            mock_evaluation_class.return_value = mock_evaluation
            
            # æ‰§è¡Œæµ‹è¯•
            result = evaluation_service.create_evaluation(evaluation_data)
            
            # éªŒè¯ç»“æœ
            assert result['success'] is True
            assert result['evaluation_id'] == 123
            mock_db_session.add.assert_called_once_with(mock_evaluation)
            mock_db_session.commit.assert_called_once()
    
    def test_create_evaluation_database_error(self, evaluation_service, mock_db_session):
        """æµ‹è¯•æ•°æ®åº“é”™è¯¯æ—¶çš„å¤„ç†"""
        evaluation_data = {
            'activity_id': 1,
            'vehicle_id': 1,
            'evaluator_id': 1,
            'score': 8,
            'content': 'æµ‹è¯•å†…å®¹'
        }
        
        # Mockæ•°æ®åº“å¼‚å¸¸
        mock_db_session.commit.side_effect = Exception("æ•°æ®åº“è¿æ¥å¤±è´¥")
        
        with patch('evaluation_system.models.Evaluation'):
            # æ‰§è¡Œæµ‹è¯•å¹¶éªŒè¯å¼‚å¸¸
            with pytest.raises(Exception) as exc_info:
                evaluation_service.create_evaluation(evaluation_data)
            
            assert "æ•°æ®åº“è¿æ¥å¤±è´¥" in str(exc_info.value)
            mock_db_session.rollback.assert_called_once()
    
    @patch('evaluation_system.services.send_notification')
    def test_create_evaluation_with_notification(self, mock_send_notification, 
                                               evaluation_service):
        """æµ‹è¯•åˆ›å»ºè¯„ä»·æ—¶çš„é€šçŸ¥å‘é€"""
        evaluation_data = {
            'activity_id': 1,
            'vehicle_id': 1,
            'evaluator_id': 1,
            'score': 8,
            'content': 'æµ‹è¯•å†…å®¹'
        }
        
        # æ‰§è¡Œæµ‹è¯•
        evaluation_service.create_evaluation_with_notification(evaluation_data)
        
        # éªŒè¯é€šçŸ¥å‘é€
        mock_send_notification.assert_called_once_with(
            'evaluation_created',
            evaluation_data
        )
```

### 6.3 é›†æˆæµ‹è¯•è§„èŒƒ

#### 6.3.1 APIé›†æˆæµ‹è¯•

```python
# tests/test_api_integration.py
import pytest
import json
from evaluation_system import create_app, db
from evaluation_system.models import User, Activity, Vehicle, Evaluator

@pytest.fixture
def app():
    """åˆ›å»ºæµ‹è¯•åº”ç”¨"""
    app = create_app('testing')
    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///:memory:'
    
    with app.app_context():
        db.create_all()
        yield app
        db.drop_all()

@pytest.fixture
def client(app):
    """åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯"""
    return app.test_client()

@pytest.fixture
def auth_headers(client):
    """åˆ›å»ºè®¤è¯å¤´"""
    # åˆ›å»ºæµ‹è¯•ç”¨æˆ·
    user = User(username='admin', password_hash='hashed_password')
    db.session.add(user)
    db.session.commit()
    
    # ç™»å½•è·å–ä¼šè¯
    response = client.post('/admin/login', data={
        'username': 'admin',
        'password': 'password'
    })
    
    return {'Cookie': response.headers.get('Set-Cookie')}

class TestEvaluationAPI:
    """è¯„ä»·APIé›†æˆæµ‹è¯•"""
    
    def test_create_evaluation_api(self, client, auth_headers):
        """æµ‹è¯•åˆ›å»ºè¯„ä»·API"""
        # å‡†å¤‡æµ‹è¯•æ•°æ®
        test_data = {
            'activity_id': 1,
            'vehicle_id': 1,
            'evaluator_id': 1,
            'category_id': 1,
            'score': 8,
            'content': 'é›†æˆæµ‹è¯•è¯„ä»·å†…å®¹'
        }
        
        # å‘é€è¯·æ±‚
        response = client.post(
            '/api/save_evaluation',
            data=json.dumps(test_data),
            content_type='application/json',
            headers=auth_headers
        )
        
        # éªŒè¯å“åº”
        assert response.status_code == 200
        
        data = json.loads(response.data)
        assert data['success'] is True
        assert 'evaluation_id' in data
        assert isinstance(data['evaluation_id'], int)
    
    def test_get_evaluations_api(self, client, auth_headers):
        """æµ‹è¯•è·å–è¯„ä»·åˆ—è¡¨API"""
        # å…ˆåˆ›å»ºä¸€äº›æµ‹è¯•æ•°æ®
        self._create_test_evaluations()
        
        # å‘é€è¯·æ±‚
        response = client.get(
            '/api/evaluations/1/1',  # activity_id=1, vehicle_id=1
            headers=auth_headers
        )
        
        # éªŒè¯å“åº”
        assert response.status_code == 200
        
        data = json.loads(response.data)
        assert isinstance(data, list)
        assert len(data) > 0
        
        # éªŒè¯æ•°æ®ç»“æ„
        evaluation = data[0]
        required_fields = ['id', 'score', 'content', 'evaluator_name', 'created_at']
        for field in required_fields:
            assert field in evaluation
    
    def test_invalid_score_validation(self, client, auth_headers):
        """æµ‹è¯•æ— æ•ˆè¯„åˆ†çš„éªŒè¯"""
        test_data = {
            'activity_id': 1,
            'vehicle_id': 1,
            'evaluator_id': 1,
            'score': 15,  # æ— æ•ˆè¯„åˆ†
            'content': 'æµ‹è¯•å†…å®¹'
        }
        
        response = client.post(
            '/api/save_evaluation',
            data=json.dumps(test_data),
            content_type='application/json',
            headers=auth_headers
        )
        
        assert response.status_code == 400
        
        data = json.loads(response.data)
        assert data['success'] is False
        assert 'error' in data
    
    def test_unauthorized_access(self, client):
        """æµ‹è¯•æœªæˆæƒè®¿é—®"""
        test_data = {
            'activity_id': 1,
            'vehicle_id': 1,
            'evaluator_id': 1,
            'score': 8,
            'content': 'æµ‹è¯•å†…å®¹'
        }
        
        response = client.post(
            '/api/save_evaluation',
            data=json.dumps(test_data),
            content_type='application/json'
        )
        
        assert response.status_code == 401
    
    def _create_test_evaluations(self):
        """åˆ›å»ºæµ‹è¯•è¯„ä»·æ•°æ®"""
        # åˆ›å»ºå¿…éœ€çš„å…³è”æ•°æ®
        activity = Activity(name='æµ‹è¯•æ´»åŠ¨', date='2025-01-15', vehicle_id=1)
        vehicle = Vehicle(name='æµ‹è¯•è½¦è¾†', model='TEST001')
        evaluator = Evaluator(name='æµ‹è¯•è¯„ä»·äºº', department='æµ‹è¯•éƒ¨é—¨')
        
        db.session.add_all([activity, vehicle, evaluator])
        db.session.commit()
        
        # åˆ›å»ºè¯„ä»·æ•°æ®
        from evaluation_system.models import Evaluation
        evaluations = [
            Evaluation(
                activity_id=activity.id,
                vehicle_id=vehicle.id,
                evaluator_id=evaluator.id,
                category_id=1,
                score=i,
                content=f'æµ‹è¯•è¯„ä»·å†…å®¹ {i}'
            )
            for i in range(1, 6)
        ]
        
        db.session.add_all(evaluations)
        db.session.commit()
```

### 6.4 ç«¯åˆ°ç«¯æµ‹è¯•

#### 6.4.1 Seleniumæµ‹è¯•

```python
# tests/test_e2e.py
import pytest
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.chrome.options import Options

@pytest.fixture
def driver():
    """åˆ›å»ºWebDriverå®ä¾‹"""
    chrome_options = Options()
    chrome_options.add_argument('--headless')  # æ— å¤´æ¨¡å¼
    chrome_options.add_argument('--no-sandbox')
    chrome_options.add_argument('--disable-dev-shm-usage')
    
    driver = webdriver.Chrome(options=chrome_options)
    driver.implicitly_wait(10)
    
    yield driver
    
    driver.quit()

class TestEvaluationWorkflow:
    """è¯„ä»·å·¥ä½œæµç¨‹ç«¯åˆ°ç«¯æµ‹è¯•"""
    
    def test_complete_evaluation_workflow(self, driver):
        """æµ‹è¯•å®Œæ•´çš„è¯„ä»·æµç¨‹"""
        base_url = "http://localhost:5000"
        
        # 1. è®¿é—®é¦–é¡µ
        driver.get(base_url)
        assert "è¯•è½¦åé¦ˆè¯„ä»·ç³»ç»Ÿ" in driver.title
        
        # 2. é€‰æ‹©æ´»åŠ¨ï¼ˆå¦‚æœæœ‰å¤šä¸ªï¼‰
        activity_selector = WebDriverWait(driver, 10).until(
            EC.element_to_be_clickable((By.CLASS_NAME, "activity-selector"))
        )
        
        # 3. ç‚¹å‡»å¼€å§‹è¯„ä»·
        start_evaluation_btn = driver.find_element(By.CLASS_NAME, "start-evaluation")
        start_evaluation_btn.click()
        
        # 4. é€‰æ‹©è¯„ä»·åˆ†ç±»
        WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.CLASS_NAME, "category-card"))
        )
        
        category_card = driver.find_element(By.CLASS_NAME, "category-card")
        category_card.click()
        
        # 5. å¡«å†™è¯„ä»·è¡¨å•
        WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.ID, "score-input"))
        )
        
        # é€‰æ‹©è¯„åˆ†
        score_button = driver.find_element(By.CSS_SELECTOR, "[data-score='8']")
        score_button.click()
        
        # é€‰æ‹©è¯„ä»·äºº
        evaluator_select = driver.find_element(By.ID, "evaluator-select")
        evaluator_select.click()
        evaluator_option = driver.find_element(By.CSS_SELECTOR, "option[value='1']")
        evaluator_option.click()
        
        # å¡«å†™è¯„ä»·å†…å®¹
        content_editor = driver.find_element(By.ID, "evaluationContent")
        content_editor.send_keys("è¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯æµ‹è¯•çš„è¯„ä»·å†…å®¹")
        
        # 6. æäº¤è¯„ä»·
        submit_button = driver.find_element(By.ID, "submit-evaluation")
        submit_button.click()
        
        # 7. éªŒè¯æäº¤æˆåŠŸ
        success_message = WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.CLASS_NAME, "alert-success"))
        )
        assert "è¯„ä»·æäº¤æˆåŠŸ" in success_message.text
        
        # 8. è¿”å›åˆ†ç±»é¡µé¢
        back_button = driver.find_element(By.CLASS_NAME, "back-btn")
        back_button.click()
        
        # 9. éªŒè¯è¯„ä»·æ•°é‡æ›´æ–°
        WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.CLASS_NAME, "category-badge"))
        )
        
        badge = driver.find_element(By.CLASS_NAME, "category-badge")
        assert int(badge.text) > 0
    
    def test_admin_login_workflow(self, driver):
        """æµ‹è¯•ç®¡ç†å‘˜ç™»å½•æµç¨‹"""
        base_url = "http://localhost:5000"
        
        # 1. è®¿é—®ç®¡ç†åå°
        driver.get(f"{base_url}/admin/login")
        
        # 2. å¡«å†™ç™»å½•ä¿¡æ¯
        username_input = driver.find_element(By.ID, "username")
        password_input = driver.find_element(By.ID, "password")
        
        username_input.send_keys("admin")
        password_input.send_keys("password")
        
        # 3. æäº¤ç™»å½•
        login_button = driver.find_element(By.CSS_SELECTOR, "button[type='submit']")
        login_button.click()
        
        # 4. éªŒè¯ç™»å½•æˆåŠŸ
        WebDriverWait(driver, 10).until(
            EC.presence_of_element_located((By.CLASS_NAME, "dashboard"))
        )
        
        assert "/admin/dashboard" in driver.current_url
        
        # 5. éªŒè¯ç®¡ç†åŠŸèƒ½å¯è®¿é—®
        vehicle_management = driver.find_element(By.ID, "vehicle-management")
        assert vehicle_management.is_displayed()
        
        evaluator_management = driver.find_element(By.ID, "evaluator-management")
        assert evaluator_management.is_displayed()
```

## 7. éƒ¨ç½²å’Œè¿ç»´è§„èŒƒ

### 7.1 éƒ¨ç½²ç¯å¢ƒé…ç½®

#### 7.1.1 ç¯å¢ƒåˆ†ç±»

```yaml
# environments.yml
development:
  name: "å¼€å‘ç¯å¢ƒ"
  domain: "dev.evaluation-system.local"
  database_url: "sqlite:///dev_evaluation.db"
  debug: true
  log_level: "DEBUG"
  
testing:
  name: "æµ‹è¯•ç¯å¢ƒ"
  domain: "test.evaluation-system.company.com"
  database_url: "sqlite:///test_evaluation.db"
  debug: false
  log_level: "INFO"
  
staging:
  name: "é¢„å‘å¸ƒç¯å¢ƒ"
  domain: "staging.evaluation-system.company.com"
  database_url: "postgresql://user:pass@localhost/evaluation_staging"
  debug: false
  log_level: "INFO"
  
production:
  name: "ç”Ÿäº§ç¯å¢ƒ"
  domain: "evaluation-system.company.com"
  database_url: "postgresql://user:pass@localhost/evaluation_prod"
  debug: false
  log_level: "WARNING"
  ssl_required: true
```

#### 7.1.2 éƒ¨ç½²è„šæœ¬

```bash
#!/bin/bash
# deploy.sh - éƒ¨ç½²è„šæœ¬

set -e

ENVIRONMENT=${1:-staging}
VERSION=${2:-latest}
APP_DIR="/var/www/evaluation-system"
BACKUP_DIR="/var/backups/evaluation-system"

echo "ğŸš€ å¼€å§‹éƒ¨ç½²åˆ° $ENVIRONMENT ç¯å¢ƒ..."

# 1. æ£€æŸ¥å‚æ•°
if [[ ! "$ENVIRONMENT" =~ ^(staging|production)$ ]]; then
    echo "âŒ æ— æ•ˆçš„ç¯å¢ƒå‚æ•°: $ENVIRONMENT"
    echo "ä½¿ç”¨æ–¹æ³•: $0 [staging|production] [version]"
    exit 1
fi

# 2. åˆ›å»ºå¤‡ä»½
echo "ğŸ“¦ åˆ›å»ºå¤‡ä»½..."
timestamp=$(date +%Y%m%d_%H%M%S)
backup_file="$BACKUP_DIR/backup_${ENVIRONMENT}_${timestamp}.tar.gz"

if [ -d "$APP_DIR" ]; then
    tar -czf "$backup_file" -C "$(dirname $APP_DIR)" "$(basename $APP_DIR)"
    echo "âœ… å¤‡ä»½å·²åˆ›å»º: $backup_file"
fi

# 3. åœæ­¢æœåŠ¡
echo "â¹ï¸  åœæ­¢æœåŠ¡..."
sudo systemctl stop evaluation-system
sudo systemctl stop nginx

# 4. éƒ¨ç½²æ–°ç‰ˆæœ¬
echo "ğŸ”„ éƒ¨ç½²æ–°ç‰ˆæœ¬..."
if [ "$VERSION" = "latest" ]; then
    git -C "$APP_DIR" pull origin main
else
    git -C "$APP_DIR" checkout "$VERSION"
fi

# 5. å®‰è£…ä¾èµ–
echo "ğŸ“¦ å®‰è£…ä¾èµ–..."
cd "$APP_DIR"
source venv/bin/activate
pip install -r requirements.txt

# 6. æ•°æ®åº“è¿ç§»
echo "ğŸ—„ï¸  æ‰§è¡Œæ•°æ®åº“è¿ç§»..."
if [ -f "migrations/alembic.ini" ]; then
    flask db upgrade
fi

# 7. é™æ€æ–‡ä»¶å¤„ç†
echo "ğŸ“„ å¤„ç†é™æ€æ–‡ä»¶..."
# å¦‚æœæœ‰é™æ€æ–‡ä»¶æ„å»ºè¿‡ç¨‹ï¼Œåœ¨è¿™é‡Œæ‰§è¡Œ

# 8. é…ç½®æ–‡ä»¶æ›´æ–°
echo "âš™ï¸  æ›´æ–°é…ç½®æ–‡ä»¶..."
cp "config/${ENVIRONMENT}.py" config/current.py

# 9. æƒé™è®¾ç½®
echo "ğŸ” è®¾ç½®æ–‡ä»¶æƒé™..."
chown -R www-data:www-data "$APP_DIR"
chmod -R 755 "$APP_DIR"
chmod -R 644 "$APP_DIR/data"

# 10. å¯åŠ¨æœåŠ¡
echo "â–¶ï¸  å¯åŠ¨æœåŠ¡..."
sudo systemctl start evaluation-system
sudo systemctl start nginx

# 11. å¥åº·æ£€æŸ¥
echo "ğŸ¥ æ‰§è¡Œå¥åº·æ£€æŸ¥..."
sleep 5

health_check_url="http://localhost/health"
if curl -f -s "$health_check_url" > /dev/null; then
    echo "âœ… å¥åº·æ£€æŸ¥é€šè¿‡"
else
    echo "âŒ å¥åº·æ£€æŸ¥å¤±è´¥ï¼Œå›æ»šéƒ¨ç½²..."
    
    # å›æ»šåˆ°å¤‡ä»½
    sudo systemctl stop evaluation-system
    sudo systemctl stop nginx
    
    tar -xzf "$backup_file" -C "$(dirname $APP_DIR)"
    
    sudo systemctl start evaluation-system
    sudo systemctl start nginx
    
    echo "ğŸ”„ å·²å›æ»šåˆ°å¤‡ä»½ç‰ˆæœ¬"
    exit 1
fi

# 12. æ¸…ç†æ—§å¤‡ä»½
echo "ğŸ§¹ æ¸…ç†æ—§å¤‡ä»½..."
find "$BACKUP_DIR" -name "backup_${ENVIRONMENT}_*.tar.gz" -mtime +7 -delete

echo "ğŸ‰ éƒ¨ç½²å®Œæˆï¼"
echo "ğŸŒ è®¿é—®åœ°å€: https://$(cat config/${ENVIRONMENT}.yml | grep domain | cut -d: -f2 | tr -d ' ')"
```

### 7.2 ç›‘æ§å’Œå‘Šè­¦

#### 7.2.1 ç³»ç»Ÿç›‘æ§è„šæœ¬

```bash
#!/bin/bash
# monitor.sh - ç³»ç»Ÿç›‘æ§è„šæœ¬

LOG_FILE="/var/log/evaluation-system/monitor.log"
ALERT_WEBHOOK="https://hooks.example.com/webhook"

log_message() {
    echo "[$(date '+%Y-%m-%d %H:%M:%S')] $1" | tee -a "$LOG_FILE"
}

send_alert() {
    local severity="$1"
    local message="$2"
    
    payload=$(cat <<EOF
{
    "severity": "$severity",
    "message": "$message",
    "timestamp": "$(date -Iseconds)",
    "hostname": "$(hostname)",
    "service": "evaluation-system"
}
EOF
)
    
    curl -X POST "$ALERT_WEBHOOK" \
        -H "Content-Type: application/json" \
        -d "$payload" \
        --max-time 10 \
        --silent
}

check_service() {
    local service_name="$1"
    
    if systemctl is-active --quiet "$service_name"; then
        log_message "âœ… $service_name is running"
        return 0
    else
        log_message "âŒ $service_name is not running"
        send_alert "critical" "$service_name service is down"
        return 1
    fi
}

check_disk_space() {
    local threshold=85
    local usage=$(df / | awk 'NR==2 {print int($5)}')
    
    if [ "$usage" -lt "$threshold" ]; then
        log_message "âœ… Disk usage: ${usage}%"
        return 0
    else
        log_message "âš ï¸  High disk usage: ${usage}%"
        send_alert "warning" "Disk usage is ${usage}%"
        return 1
    fi
}

check_memory() {
    local threshold=85
    local usage=$(free | awk 'NR==2{printf "%.0f", $3*100/$2}')
    
    if [ "$usage" -lt "$threshold" ]; then
        log_message "âœ… Memory usage: ${usage}%"
        return 0
    else
        log_message "âš ï¸  High memory usage: ${usage}%"
        send_alert "warning" "Memory usage is ${usage}%"
        return 1
    fi
}

check_application() {
    local url="http://localhost/health"
    local timeout=10
    
    if curl -f -s --max-time "$timeout" "$url" > /dev/null; then
        log_message "âœ… Application health check passed"
        return 0
    else
        log_message "âŒ Application health check failed"
        send_alert "critical" "Application health check failed"
        return 1
    fi
}

main() {
    log_message "Starting system monitoring..."
    
    local issues=0
    
    check_service "nginx" || ((issues++))
    check_service "evaluation-system" || ((issues++))
    check_disk_space || ((issues++))
    check_memory || ((issues++))
    check_application || ((issues++))
    
    if [ "$issues" -eq 0 ]; then
        log_message "âœ… All checks passed"
    else
        log_message "âŒ Found $issues issues"
        send_alert "warning" "System monitoring found $issues issues"
    fi
    
    return $issues
}

# æ¯5åˆ†é’Ÿè¿è¡Œä¸€æ¬¡
while true; do
    main
    sleep 300
done
```

## 8. é¡¹ç›®ç®¡ç†è§„èŒƒ

### 8.1 è¿­ä»£è®¡åˆ’

#### 8.1.1 Scrumæµç¨‹

```mermaid
graph LR
    A[Product Backlog] --> B[Sprint Planning]
    B --> C[Sprint Backlog]
    C --> D[Daily Scrum]
    D --> E[Sprint Development]
    E --> D
    E --> F[Sprint Review]
    F --> G[Sprint Retrospective]
    G --> A
```

**Sprintå‘¨æœŸ**: 2å‘¨  
**å›¢é˜Ÿè§„æ¨¡**: 5-7äºº  
**ä¼šè®®å®‰æ’**:
- Sprint Planning: æ¯ä¸ªSprintå¼€å§‹ï¼Œ2å°æ—¶
- Daily Scrum: æ¯å¤©æ—©ä¸Š9:00ï¼Œ15åˆ†é’Ÿ
- Sprint Review: Sprintç»“æŸå‰ä¸€å¤©ï¼Œ1å°æ—¶
- Sprint Retrospective: Sprintç»“æŸï¼Œ1å°æ—¶

#### 8.1.2 ç”¨æˆ·æ•…äº‹æ¨¡æ¿

```
ä½œä¸ºä¸€ä¸ª [ç”¨æˆ·è§’è‰²]
æˆ‘æƒ³è¦ [åŠŸèƒ½æè¿°]
ä»¥ä¾¿äº [ä¸šåŠ¡ä»·å€¼]

éªŒæ”¶æ ‡å‡†ï¼š
- [ ] æ ‡å‡†1
- [ ] æ ‡å‡†2
- [ ] æ ‡å‡†3

å®šä¹‰å®Œæˆæ ‡å‡†ï¼š
- [ ] ä»£ç å¼€å‘å®Œæˆ
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] ä»£ç å®¡æŸ¥é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] äº§å“éªŒæ”¶é€šè¿‡
- [ ] æ–‡æ¡£æ›´æ–°å®Œæˆ

ä¼°ç®—ï¼š[æ•…äº‹ç‚¹æ•°]
ä¼˜å…ˆçº§ï¼š[é«˜/ä¸­/ä½]
```

### 8.2 é£é™©ç®¡ç†

#### 8.2.1 é£é™©è¯†åˆ«çŸ©é˜µ

| é£é™©ç±»å‹ | é£é™©æè¿° | æ¦‚ç‡ | å½±å“ | é£é™©ç­‰çº§ | åº”å¯¹ç­–ç•¥ |
|----------|----------|------|------|----------|----------|
| æŠ€æœ¯é£é™© | SQLiteæ€§èƒ½ç“¶é¢ˆ | ä¸­ | é«˜ | é«˜ | æå‰å‡†å¤‡PostgreSQLè¿ç§»æ–¹æ¡ˆ |
| äººå‘˜é£é™© | å…³é”®å¼€å‘äººå‘˜ç¦»èŒ | ä½ | é«˜ | ä¸­ | çŸ¥è¯†æ–‡æ¡£åŒ–ï¼Œäº¤å‰åŸ¹è®­ |
| éœ€æ±‚é£é™© | éœ€æ±‚å˜æ›´é¢‘ç¹ | é«˜ | ä¸­ | é«˜ | æ•æ·å¼€å‘ï¼Œé¢‘ç¹æ²Ÿé€š |
| é›†æˆé£é™© | ç¬¬ä¸‰æ–¹æœåŠ¡ä¸ç¨³å®š | ä¸­ | ä¸­ | ä¸­ | å¤‡é€‰æ–¹æ¡ˆï¼Œé™çº§å¤„ç† |
| å®‰å…¨é£é™© | æ•°æ®æ³„éœ² | ä½ | é«˜ | ä¸­ | å®‰å…¨å®¡æŸ¥ï¼Œæƒé™æ§åˆ¶ |
| æ€§èƒ½é£é™© | å¹¶å‘è®¿é—®é—®é¢˜ | ä¸­ | ä¸­ | ä¸­ | æ€§èƒ½æµ‹è¯•ï¼Œå®¹é‡è§„åˆ’ |

#### 8.2.2 é£é™©åº”å¯¹è®¡åˆ’

```markdown
## é«˜é£é™©é¡¹åº”å¯¹è®¡åˆ’

### 1. SQLiteæ€§èƒ½ç“¶é¢ˆé£é™©
**åº”å¯¹ç­–ç•¥**: é¢„é˜² + è½¬ç§»
- **é¢„é˜²æªæ–½**:
  - æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
  - æŸ¥è¯¢è¯­å¥ä¼˜åŒ–
  - è¿æ¥æ± é…ç½®ä¼˜åŒ–
- **è½¬ç§»æªæ–½**:
  - å‡†å¤‡PostgreSQLè¿ç§»è„šæœ¬
  - è®¾è®¡æ•°æ®åº“æŠ½è±¡å±‚
  - åˆ¶å®šè¿ç§»æ—¶é—´è¡¨

### 2. éœ€æ±‚å˜æ›´é¢‘ç¹é£é™©
**åº”å¯¹ç­–ç•¥**: æ¥å— + å‡è½»
- **æ¥å—æªæ–½**:
  - é‡‡ç”¨æ•æ·å¼€å‘æ–¹æ³•
  - çŸ­è¿­ä»£å‘¨æœŸ
- **å‡è½»æªæ–½**:
  - ä¸å®¢æˆ·ä¿æŒå¯†åˆ‡æ²Ÿé€š
  - åŸå‹éªŒè¯éœ€æ±‚
  - å˜æ›´æ§åˆ¶æµç¨‹
```

### 8.3 è´¨é‡ä¿è¯

#### 8.3.1 ä»£ç è´¨é‡æ ‡å‡†

```yaml
code_quality_standards:
  coverage:
    unit_tests: 80%
    integration_tests: 60%
    e2e_tests: 30%
  
  complexity:
    cyclomatic_complexity: 10
    cognitive_complexity: 15
    nesting_depth: 4
  
  maintainability:
    code_duplication: <5%
    technical_debt_ratio: <10%
    maintainability_index: >65
  
  security:
    vulnerability_scan: required
    dependency_check: required
    security_review: required
  
  performance:
    page_load_time: <3s
    api_response_time: <1s
    database_query_time: <500ms
```

#### 8.3.2 è´¨é‡é—¨ç¦

```mermaid
graph TD
    A[ä»£ç æäº¤] --> B[é™æ€ä»£ç åˆ†æ]
    B --> C{ä»£ç è´¨é‡æ£€æŸ¥}
    C -->|é€šè¿‡| D[å•å…ƒæµ‹è¯•]
    C -->|ä¸é€šè¿‡| E[ä¿®å¤é—®é¢˜]
    E --> A
    D --> F{æµ‹è¯•è¦†ç›–ç‡}
    F -->|â‰¥80%| G[é›†æˆæµ‹è¯•]
    F -->|<80%| E
    G --> H{å®‰å…¨æ‰«æ}
    H -->|é€šè¿‡| I[ä»£ç å®¡æŸ¥]
    H -->|ä¸é€šè¿‡| E
    I --> J{å®¡æŸ¥é€šè¿‡}
    J -->|æ˜¯| K[åˆå¹¶åˆ°ä¸»åˆ†æ”¯]
    J -->|å¦| E
    K --> L[è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ]
```

## 9. å›¢é˜Ÿåä½œè§„èŒƒ

### 9.1 æ²Ÿé€šåä½œ

#### 9.1.1 ä¼šè®®è§„èŒƒ

**æ¯æ—¥ç«™ä¼š**:
- æ—¶é—´ï¼šæ¯å¤©ä¸Šåˆ9:00-9:15
- å‚ä¸è€…ï¼šå¼€å‘å›¢é˜Ÿå…¨å‘˜
- å†…å®¹ï¼šæ˜¨å¤©å®Œæˆã€ä»Šå¤©è®¡åˆ’ã€é‡åˆ°éšœç¢
- åŸåˆ™ï¼šç®€æ´æ˜äº†ï¼Œæ§åˆ¶æ—¶é—´

**ä»£ç å®¡æŸ¥ä¼šè®®**:
- é¢‘ç‡ï¼šæ¯å‘¨1æ¬¡
- æ—¶é—´ï¼š1å°æ—¶
- å†…å®¹ï¼šå¤æ‚PRå®¡æŸ¥ã€æŠ€æœ¯è®¨è®ºã€æœ€ä½³å®è·µåˆ†äº«

**æŠ€æœ¯åˆ†äº«ä¼š**:
- é¢‘ç‡ï¼šæ¯æœˆ1æ¬¡
- æ—¶é—´ï¼š1.5å°æ—¶
- å†…å®¹ï¼šæ–°æŠ€æœ¯è°ƒç ”ã€é¡¹ç›®ç»éªŒæ€»ç»“ã€é—®é¢˜è§£å†³æ–¹æ¡ˆ

#### 9.1.2 æ–‡æ¡£åä½œ

**æ–‡æ¡£ç®¡ç†**:
- ç»Ÿä¸€ä½¿ç”¨Markdownæ ¼å¼
- ç‰ˆæœ¬æ§åˆ¶ä¸ä»£ç åŒæ­¥
- å®šæœŸæ–‡æ¡£å®¡æŸ¥å’Œæ›´æ–°
- ä¸­è‹±æ–‡åŒè¯­é‡è¦æ–‡æ¡£

**çŸ¥è¯†åˆ†äº«**:
- WikiçŸ¥è¯†åº“ç»´æŠ¤
- æŠ€æœ¯å†³ç­–è®°å½•(ADR)
- é—®é¢˜è§£å†³æ–¹æ¡ˆåº“
- æœ€ä½³å®è·µæ–‡æ¡£

### 9.2 å·¥å…·å’Œå¹³å°

#### 9.2.1 å¼€å‘å·¥å…·é“¾

```yaml
development_tools:
  ide:
    - VSCode (æ¨è)
    - PyCharm Professional
  
  version_control:
    - Git
    - GitHub/GitLab
  
  project_management:
    - Jira (ä»»åŠ¡ç®¡ç†)
    - Confluence (æ–‡æ¡£)
    - Slack (å³æ—¶é€šè®¯)
  
  ci_cd:
    - GitHub Actions
    - Jenkins (å¤‡é€‰)
  
  monitoring:
    - Prometheus + Grafana
    - ELK Stack (å¯é€‰)
  
  deployment:
    - Docker
    - Kubernetes (æ‰©å±•)
```

#### 9.2.2 ä»£ç ä»“åº“ç»“æ„

```
organization/
â”œâ”€â”€ evaluation-system/          # ä¸»åº”ç”¨ä»“åº“
â”œâ”€â”€ evaluation-system-docs/     # æ–‡æ¡£ä»“åº“
â”œâ”€â”€ evaluation-system-infra/    # åŸºç¡€è®¾æ–½ä»£ç 
â”œâ”€â”€ evaluation-system-tests/    # æµ‹è¯•å¥—ä»¶
â””â”€â”€ evaluation-system-tools/    # å¼€å‘å·¥å…·
```

## 10. æ€»ç»“

### 10.1 è§„èŒƒå®æ–½

æœ¬è§„èŒƒå°†åˆ†é˜¶æ®µå®æ–½ï¼š

**ç¬¬ä¸€é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰**:
- å»ºç«‹å¼€å‘ç¯å¢ƒæ ‡å‡†
- é…ç½®ä»£ç è´¨é‡æ£€æŸ¥å·¥å…·
- åˆ¶å®šGitå·¥ä½œæµç¨‹

**ç¬¬äºŒé˜¶æ®µï¼ˆ2-4å‘¨ï¼‰**:
- å®Œå–„æµ‹è¯•æ¡†æ¶
- å»ºç«‹CI/CDæµæ°´çº¿
- è§„èŒƒåŒ–ä»£ç å®¡æŸ¥æµç¨‹

**ç¬¬ä¸‰é˜¶æ®µï¼ˆ4-8å‘¨ï¼‰**:
- å®Œå–„ç›‘æ§å’Œå‘Šè­¦
- ä¼˜åŒ–éƒ¨ç½²æµç¨‹
- å»ºç«‹çŸ¥è¯†åº“

### 10.2 æŒç»­æ”¹è¿›

å¼€å‘è§„èŒƒå°†æ ¹æ®é¡¹ç›®è¿›å±•å’Œå›¢é˜Ÿåé¦ˆæŒç»­ä¼˜åŒ–ï¼š
- å®šæœŸè¯„å®¡è§„èŒƒæœ‰æ•ˆæ€§
- æ”¶é›†å›¢é˜Ÿæ”¹è¿›å»ºè®®
- å¼•å…¥æ–°çš„æœ€ä½³å®è·µ
- æ›´æ–°å·¥å…·å’Œæµç¨‹

### 10.3 æˆåŠŸæŒ‡æ ‡

**ä»£ç è´¨é‡æŒ‡æ ‡**:
- ä»£ç è¦†ç›–ç‡ â‰¥ 80%
- ä»£ç é‡å¤ç‡ â‰¤ 5%
- æŠ€æœ¯å€ºåŠ¡æ¯”ç‡ â‰¤ 10%

**å¼€å‘æ•ˆç‡æŒ‡æ ‡**:
- å¹³å‡å¼€å‘å‘¨æœŸ â‰¤ 2å‘¨
- ç¼ºé™·ä¿®å¤æ—¶é—´ â‰¤ 1å¤©
- ä»£ç å®¡æŸ¥æ—¶é—´ â‰¤ 4å°æ—¶

**å›¢é˜Ÿåä½œæŒ‡æ ‡**:
- ä¼šè®®å‡†æ—¶ç‡ â‰¥ 95%
- æ–‡æ¡£è¦†ç›–ç‡ â‰¥ 90%
- çŸ¥è¯†åˆ†äº«é¢‘ç‡ â‰¥ 1æ¬¡/æœˆ

---
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ  
**æœ€åæ›´æ–°**: 2025å¹´7æœˆ23æ—¥  
**ç‰ˆæœ¬å·**: 1.0